import{h as x,p as $,c as h,o as l,w as y,e,j as _,v as g,f as M,u as c,t as k,a as f,b as w,F as v,q as b,s as S}from"./app-DFFpjxVY.js";import C from"./AdminLayout-B-phWzRr.js";import N from"./Search-BMITWtay.js";import{u as D,_ as B}from"./NewsItem-DVRhkUk0.js";import"./Navbar-CP9XmraW.js";import"./logo2-CFUbdbuf.js";import"./AdminBurgerMenu-B-vUP1g9.js";import"./AdminButton-C9e2Hs85.js";import"./Sidebar-gNNl7gqg.js";const T={class:"w-full"},V={class:"bg-white shadow-md flex flex-col rounded px-8 pt-6 pb-8"},q={class:"mb-4"},F={class:"mb-6"},j={__name:"NewsAddForm",props:{isShow:{type:Boolean,default:!1},actionTitle:{type:String,default:""}},emits:["closeModal"],setup(i,{emit:u}){const s=u,a=D(),n=x(""),r=x(""),p=()=>{s("closeModal")};return(m,t)=>{const o=$("modal");return l(),h(o,{show:i.isShow,title:"Добавление новости",onCloseModal:p},{default:y(()=>[e("div",T,[e("form",V,[e("div",q,[t[3]||(t[3]=e("label",{class:"block text-gray-700 text-sm font-bold mb-2",for:"username"}," Название ",-1)),_(e("input",{class:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",type:"text",required:"","onUpdate:modelValue":t[0]||(t[0]=d=>n.value=d),placeholder:"Ввести название"},null,512),[[g,n.value]])]),e("div",F,[t[4]||(t[4]=e("label",{class:"block text-gray-700 text-sm font-bold mb-2",for:"password"}," Описание ",-1)),_(e("textarea",{"onUpdate:modelValue":t[1]||(t[1]=d=>r.value=d),placeholder:"Ввести описание",required:"",class:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 mb-3 leading-tight focus:outline-none focus:shadow-outline"},null,512),[[g,r.value]])]),e("button",{onClick:t[2]||(t[2]=M(d=>c(a).addPost(n.value,r.value),["prevent"])),class:"bg-green-700 rounded-lg text-white px-5 py-2.5 mx-auto text-lg mt-4"},k(i.actionTitle),1)])])]),_:1},8,["show"])}}},A={class:"p-3 sm:p-5"},L={class:"mx-auto px-4 lg:px-12"},P={class:"bg-white w-full 2xl:w-[80%] relative shadow-md sm:rounded-lg overflow-hidden"},U={class:"flex flex-col md:flex-row items-center justify-between space-y-3 md:space-y-0 md:space-x-4 p-4"},E={class:"overflow-x-auto"},Q={class:"w-full text-sm text-left text-gray-500"},z={class:"text-xs text-gray-700 bg-gray-50"},G={scope:"col",class:"px-4 py-3"},Z={__name:"NewsList",props:{news:{type:Array,default:[]}},setup(i){const u=i,s=D(),a=x(!1);let n=["#","Заголовок","Дата","Описание","Автор"];s.newsData=u.news,console.log(s.newsData);function r(m){s.newsData=m.news}function p(){a.value=!0}return(m,t)=>(l(),h(C,null,{default:y(()=>[e("section",A,[e("div",L,[e("div",P,[e("div",U,[f(N,{placeholder:"Найти новость",link:"/admin/resource/api/search?category=news&searchQ",onSetData:r}),e("button",{onClick:p,class:"flex items-center text-white bg-green-700 hover:bg-green-800 font-medium rounded-lg text-center max-w-[400px] py-2 px-4"}," Добавить ")]),e("div",E,[e("table",Q,[e("thead",z,[e("tr",null,[(l(!0),w(v,null,b(c(n),o=>(l(),w("th",G,k(o),1))),256))])]),e("tbody",null,[(l(!0),w(v,null,b(c(s).newsData.data,o=>(l(),h(B,{post:o,key:o.id},null,8,["post"]))),128))])])]),f(S,{links:c(s).newsData.links},null,8,["links"])])]),f(j,{onCloseModal:t[0]||(t[0]=o=>a.value=!1),show:a.value,actionTitle:"Добавить"},null,8,["show"])])]),_:1}))}};export{Z as default};
