import{P as $}from"./app-CnV9NgtI.js";import M from"./AdminLayout-EPWlOsCp.js";import S from"./Search-F0DXcjBe.js";import{u as y,_ as C}from"./NewsItem-BpyM3dy4.js";import{h as x,f as N,j as h,o as l,w as k,b as e,i as _,p as g,s as B,u as c,t as D,g as f,c as w,F as b,r as v}from"./vendor-kJgWS3Bk.js";import"./Navbar-DtsNghMd.js";import"./AdminBurgerMenu-CKQ94-B8.js";import"./AdminButton-VxWFyfQM.js";import"./Sidebar-CaX5GU7_.js";const T={class:"w-full"},V={class:"bg-white shadow-md flex flex-col rounded px-8 pt-6 pb-8"},F={class:"mb-4"},P={class:"mb-6"},j={__name:"NewsAddForm",props:{isShow:{type:Boolean,default:!1},actionTitle:{type:String,default:""}},emits:["closeModal"],setup(i,{emit:u}){const s=u,a=y(),n=x(""),r=x(""),p=()=>{s("closeModal")};return(m,t)=>{const o=N("modal");return l(),h(o,{show:i.isShow,title:"Добавление новости",onCloseModal:p},{default:k(()=>[e("div",T,[e("form",V,[e("div",F,[t[3]||(t[3]=e("label",{class:"block text-gray-700 text-sm font-bold mb-2",for:"username"}," Название ",-1)),_(e("input",{class:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",type:"text",required:"","onUpdate:modelValue":t[0]||(t[0]=d=>n.value=d),placeholder:"Ввести название"},null,512),[[g,n.value]])]),e("div",P,[t[4]||(t[4]=e("label",{class:"block text-gray-700 text-sm font-bold mb-2",for:"password"}," Описание ",-1)),_(e("textarea",{"onUpdate:modelValue":t[1]||(t[1]=d=>r.value=d),placeholder:"Ввести описание",required:"",class:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 mb-3 leading-tight focus:outline-none focus:shadow-outline"},null,512),[[g,r.value]])]),e("button",{onClick:t[2]||(t[2]=B(d=>c(a).addPost(n.value,r.value),["prevent"])),class:"bg-green-700 rounded-lg text-white px-5 py-2.5 mx-auto text-lg mt-4"},D(i.actionTitle),1)])])]),_:1},8,["show"])}}},q={class:"p-3 sm:p-5"},A={class:"mx-auto px-4 lg:px-12"},L={class:"bg-white w-full 2xl:w-[80%] relative shadow-md sm:rounded-lg overflow-hidden"},U={class:"flex flex-col md:flex-row items-center justify-between space-y-3 md:space-y-0 md:space-x-4 p-4"},E={class:"overflow-x-auto"},Q={class:"w-full text-sm text-left text-gray-500"},z={class:"text-xs text-gray-700 bg-gray-50"},G={scope:"col",class:"px-4 py-3"},Z={__name:"NewsList",props:{news:{type:Array,default:[]}},setup(i){const u=i,s=y(),a=x(!1);let n=["#","Заголовок","Дата","Описание","Автор"];s.newsData=u.news,console.log(s.newsData);function r(m){s.newsData=m.news}function p(){a.value=!0}return(m,t)=>(l(),h(M,null,{default:k(()=>[e("section",q,[e("div",A,[e("div",L,[e("div",U,[f(S,{placeholder:"Найти новость",link:"/admin/resource/api/search?category=news&searchQ",onSetData:r}),e("button",{onClick:p,class:"flex items-center text-white bg-green-700 hover:bg-green-800 font-medium rounded-lg text-center max-w-[400px] py-2 px-4"}," Добавить ")]),e("div",E,[e("table",Q,[e("thead",z,[e("tr",null,[(l(!0),w(b,null,v(c(n),o=>(l(),w("th",G,D(o),1))),256))])]),e("tbody",null,[(l(!0),w(b,null,v(c(s).newsData.data,o=>(l(),h(C,{post:o,key:o.id},null,8,["post"]))),128))])])]),f($,{links:c(s).newsData.links},null,8,["links"])])]),f(j,{onCloseModal:t[0]||(t[0]=o=>a.value=!1),show:a.value,actionTitle:"Добавить"},null,8,["show"])])]),_:1}))}};export{Z as default};
