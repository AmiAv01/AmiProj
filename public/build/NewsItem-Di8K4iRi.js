import{y as b,a as c,h as u,f as v,j as $,o as g,w as M,b as e,i as w,p as m,s as N,u as f,t as i,c as S,g as k,F as C}from"./vendor-CWa5HLwl.js";const x=b("news",{state:()=>({newsData:[]}),actions:{setNews(t){this.newsData=t},addPost(t,o){c.post("/admin/resource/news/store",{title:t,description:o}).then(s=>{console.log(s.data),this.setNews(s.data.items)}).catch(s=>console.log(s))},deletePost(t){c.delete(`/admin/resource/news/${t}`).then(o=>{console.log(o.data),this.setNews(o.data.items)}).catch(o=>console.log(o))},editPost(t,o,s){console.log(t),c.patch(`/admin/resource/news/${t}`,{title:o,description:s}).then(n=>{console.log(n.data),this.setNews(n.data.items)}).catch(n=>console.log(n))}}}),D={class:"w-full"},I={class:"bg-white shadow-md flex flex-col rounded px-8 pt-6 pb-8"},P={class:"mb-4"},T={class:"mb-6"},j={__name:"NewsEditForm",props:{title:{type:String,default:""},description:{type:String,default:""},isShow:{type:Boolean,default:!1},postId:{type:Number,default:0},actionTitle:{type:String,default:""}},emits:["closeModal"],setup(t,{emit:o}){const s=t,n=o,p=x(),l=u(s.title),d=u(s.description),h=()=>{n("closeModal")};return(H,a)=>{const y=v("modal");return g(),$(y,{show:t.isShow,title:"Редактирование новости",onCloseModal:h},{default:M(()=>[e("div",D,[e("form",I,[e("div",P,[a[3]||(a[3]=e("label",{class:"block text-gray-700 text-sm font-bold mb-2",for:"username"}," Название ",-1)),w(e("input",{class:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",type:"text","onUpdate:modelValue":a[0]||(a[0]=r=>l.value=r),placeholder:"Ввести название"},null,512),[[m,l.value]])]),e("div",T,[a[4]||(a[4]=e("label",{class:"block text-gray-700 text-sm font-bold mb-2",for:"password"}," Описание ",-1)),w(e("textarea",{"onUpdate:modelValue":a[1]||(a[1]=r=>d.value=r),placeholder:"Ввести описание",class:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 mb-3 leading-tight focus:outline-none focus:shadow-outline"},null,512),[[m,d.value]])]),e("button",{onClick:a[2]||(a[2]=N(r=>f(p).editPost(s.postId,l.value,d.value),["prevent"])),class:"bg-green-700 rounded-lg text-white px-5 py-2.5 mx-auto text-lg mt-4"},i(t.actionTitle),1)])])]),_:1},8,["show"])}}},z={class:"border-b"},B={scope:"row",class:"px-4 py-3 font-medium text-gray-900 whitespace-nowrap"},V={class:"px-4 py-3"},F={class:"px-4 py-3"},O={class:"px-4 py-3"},E={class:"px-4 py-3"},U={class:"px-4 py-3 flex items-center justify-end"},_=["id","data-dropdown-toggle"],L=["id"],q=["aria-labelledby"],A={class:"py-1"},G={__name:"NewsItem",props:{post:{type:Object,default:null}},setup(t){const o=u(!1),s=x(),n=()=>{o.value=!0};return(p,l)=>(g(),S(C,null,[e("tr",z,[e("th",B,i(t.post.id),1),e("td",V,i(t.post.title),1),e("td",F,i(new Date(t.post.date).toLocaleDateString()),1),e("td",O,i(t.post.description),1),e("td",E,i(t.post.name),1),e("td",U,[e("button",{id:`${t.post.id}-button`,"data-dropdown-toggle":`${t.post.id}`,class:"inline-flex items-center p-0.5 text-sm font-medium text-center text-gray-500 hover:text-gray-800 rounded-lg focus:outline-none",type:"button"},l[3]||(l[3]=[e("svg",{class:"w-5 h-5","aria-hidden":"true",fill:"currentColor",viewbox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M6 10a2 2 0 11-4 0 2 2 0 014 0zM12 10a2 2 0 11-4 0 2 2 0 014 0zM16 12a2 2 0 100-4 2 2 0 000 4z"})],-1)]),8,_),e("div",{id:`${t.post.id}`,class:"hidden z-10 w-44 bg-white rounded divide-y divide-gray-100 shadow"},[e("ul",{class:"py-1 text-sm text-gray-700","aria-labelledby":`${t.post.id}-button`},[e("li",null,[e("button",{onClick:l[0]||(l[0]=d=>n(t.post.id)),class:"flex w-full py-2 px-4 hover:bg-gray-100"}," Изменить ")])],8,q),e("div",A,[e("button",{onClick:l[1]||(l[1]=d=>f(s).deletePost(t.post.id)),class:"flex w-full py-2 px-4 text-sm text-gray-700 hover:bg-gray-100"}," Удалить ")])],8,L)])]),k(j,{onCloseModal:l[2]||(l[2]=d=>o.value=!1),show:o.value,title:t.post.title,description:t.post.description,postId:t.post.id,actionTitle:"Изменить"},null,8,["show","title","description","postId"])],64))}},K=Object.freeze(Object.defineProperty({__proto__:null,default:G},Symbol.toStringTag,{value:"Module"}));export{K as N,G as _,x as u};
