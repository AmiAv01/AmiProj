import{h as C,f as m,j as g,o,w as u,d as n,b as t,c as d,t as l,e as a,g as y,a as E}from"./vendor-kJgWS3Bk.js";import{u as B,e as S}from"./app-CuivMzHs.js";import j from"./Analogs-DZUEU5jE.js";import A from"./DetailLayout-CSA_j7Zu.js";const F={class:"py-6 bg-white md:py-10 antialiased"},D={class:"w-full max-w-8xl px-6 mx-auto"},N={class:"grid lg:grid-cols-3 gap-8"},V={class:"lg:col-span-2 border rounded-lg p-6 bg-white shadow-sm"},I={class:"flex flex-col md:flex-row gap-8 items-start"},O={class:"shrink-0 w-full md:w-1/3 lg:w-1/4"},M=["src"],T={class:"w-full md:w-2/3 lg:w-3/4"},$={class:"text-xl sm:text-2xl font-semibold text-gray-900 mb-4"},G={key:0,class:"text-xl sm:text-2xl font-semibold text-gray-900 mb-4"},H={key:1,class:"grid grid-cols-1 sm:grid-cols-2 gap-4 mb-4"},R={class:"text-gray-600"},U={class:"text-gray-600"},q={class:"text-gray-600"},P={class:"text-gray-600"},Y={key:2,class:"flex items-center justify-between border-t pt-4"},z={class:"text-gray-600"},J={key:0,class:"text-green-500 ml-2"},K={key:1,class:"text-red-500 ml-2"},L={class:"text-2xl font-extrabold text-gray-900"},Q={key:0,class:"mt-8 border-t pt-6"},W={class:"bg-white p-6 rounded-lg border shadow-sm"},et={__name:"Index",props:{sameDetails:{type:Array},detail:{type:Object},analogs:{type:Array},cargoIds:{type:Array},isEmpty:{type:Boolean},price:{type:String},imageUrl:{type:String}},setup(s){const r=s,x=B(),c=C(!1),f=()=>{E.post("/cart",{id:r.detail.dt_id,quantity:1,price:r.price}).then(i=>{console.log(i),c.value=!0,x.incCartCount()}).catch(i=>console.log(i))},w=i=>S(i),p=()=>r.detail.dt_typec==="ГЕНЕРАТОР"||r.detail.dt_typec==="СТАРТЕР";function b(i){c.value=i}return(i,e)=>{const h=m("push"),v=m("cart-button"),k=m("layout");return o(),g(k,null,{default:u(()=>[c.value?(o(),g(h,{key:0,isShow:c.value,onHide:b,title:"Добавлено в корзину"},{default:u(()=>e[0]||(e[0]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"30",height:"30",viewBox:"0 0 24 24",fill:"none",stroke:"#FFFFFF","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[t("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),t("polyline",{points:"22 4 12 14.01 9 11.01"})],-1)])),_:1},8,["isShow"])):n("",!0),t("section",F,[t("div",D,[t("div",N,[t("div",V,[t("div",I,[t("div",O,[t("img",{class:"w-full max-h-80 object-contain",src:s.imageUrl,alt:"Product image"},null,8,M)]),t("div",T,[t("h1",$,l(w(s.detail.dt_typec))+" "+l(s.isEmpty?s.detail.dt_code:s.detail.dt_invoice)+" "+l(s.isEmpty?s.detail.dt_firm:""),1),s.isEmpty?(o(),d("p",G,[e[1]||(e[1]=a(" (CARGO # ")),t("span",null,l(Array.from(s.cargoIds).join()),1),e[2]||(e[2]=a(")"))])):n("",!0),s.isEmpty?n("",!0):(o(),d("div",H,[t("div",null,[t("p",R,[e[3]||(e[3]=t("span",{class:"text-gray-500"},"OEM:",-1)),e[4]||(e[4]=a()),t("strong",null,l(s.detail.dt_oem),1)]),t("p",U,[e[5]||(e[5]=t("span",{class:"text-gray-500"},"CARGO:",-1)),e[6]||(e[6]=a()),t("strong",null,l(s.detail.dt_cargo),1)]),t("p",q,[e[7]||(e[7]=t("span",{class:"text-gray-500"},"Бренд:",-1)),e[8]||(e[8]=a()),t("strong",null,l(s.detail.fr_code),1)]),t("p",P,[e[9]||(e[9]=t("span",{class:"text-gray-500"},"Бренд:",-1)),e[10]||(e[10]=a()),t("strong",null,l(s.detail.dt_comment),1)])])])),s.isEmpty?n("",!0):(o(),d("div",Y,[t("div",null,[t("p",z,[e[11]||(e[11]=t("span",{class:"text-gray-500"},"Наличие:",-1)),s.detail.ostc?(o(),d("span",J,l(s.detail.ostc)+" шт.",1)):(o(),d("span",K,"Нет в наличии"))]),t("p",L,l(s.price!=="0"&&s.price!==void 0?`${s.price} BYN`:"цену уточнять"),1)])])),s.detail.ostc&&s.price!=="0"?(o(),g(v,{key:3,onClick:f,class:"mt-4 bg-green-600 hover:bg-green-500 text-white font-medium rounded-md px-5 py-2.5 w-full sm:w-auto"},{default:u(()=>e[12]||(e[12]=[a(" Добавить в корзину ")])),_:1})):n("",!0)])]),p()?(o(),d("div",Q,[y(A,{details:s.sameDetails},null,8,["details"])])):n("",!0)]),t("div",W,[e[13]||(e[13]=t("h2",{class:"text-lg font-bold mb-5 text-center"},"Найденные аналоги",-1)),y(j,{details:s.analogs},null,8,["details"])])])])])]),_:1})}}};export{et as default};
